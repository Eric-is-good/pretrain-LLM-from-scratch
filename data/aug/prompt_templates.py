# prompt_templates.py

class WikiPromptTemplates:
    """
    一个存储用于增强维基百科数据的Prompt模板的类。
    每个方法代表一种改写或数据增强的任务。
    """

    @staticmethod
    def paraphrase(wiki_chunk: str) -> str:
        """
        模板1: 复述与释义 (Paraphrasing)
        目标: 将原始文本用不同风格和方式重写。
        """
        return f"""
作为一个专业的文本改写专家，请你阅读以下来自维基百科的段落：

---
原始段落:
"{wiki_chunk}"
---

现在，请完成以下任务：
1.  **通俗化改写**: 用更口语化、更容易理解的语言重写这段话，让非专业人士也能轻松明白。
2.  **专业化改写**: 用更正式、更学术的语言进行改写，使其适合在专业论文或报告中引用。
3.  **中立客观改写**: 在不增减信息的前提下，用一种纯粹客观、不带任何感情色彩的句式重新组织这段话。

请以清晰的格式返回这三种改写结果。
"""

    @staticmethod
    def summarize(wiki_chunk: str) -> str:
        """
        模板2: 摘要生成 (Summarization)
        目标: 生成不同长度的摘要。
        """
        return f"""
你是一个信息提炼专家。请阅读并理解以下维基百科内容：

---
原文:
"{wiki_chunk}"
---

请根据以上原文，完成以下摘要任务：
1.  **一句话总结 (One-sentence Summary)**: 用一句话概括这段内容最核心的主旨。
2.  **核心要点 (Key Points)**: 以列表形式，列出3-5个最重要的核心信息点。
3.  **详细摘要 (Detailed Summary)**: 生成一段大约100-150字的详细摘要，全面地概括原文的主要内容。
"""

    @staticmethod
    def qa_generation(wiki_chunk: str) -> str:
        """
        模板3: 构造问答对 (Question-Answering Pair Generation)
        目标: 基于内容生成多种类型的问答对。
        """
        return f"""
你是一个出色的教育内容创作者。你的任务是根据下面提供的维基百科段落，设计一系列高质量的问答对，以帮助学生学习和测试他们对知识的掌握程度。

---
学习材料:
"{wiki_chunk}"
---

请根据以上材料，生成至少5组问答对（Q&A）。这些问答对应该覆盖以下不同类型：
1.  **事实提取型问题**: 问题的答案可以直接从原文中找到。
2.  **推理归纳型问题**: 问题的答案需要对原文信息进行理解、归纳或推理才能得出。
3.  **是非判断题**: 提出一个陈述，要求判断其对错。
4.  **开放性问题**: 鼓励更深入思考和讨论的问题。

请确保每个问题都有一个清晰、准确的答案。
"""

    @staticmethod
    def instruction_following_generation(wiki_chunk: str) -> str:
        """
        模板4: 指令-响应对生成 (Instruction-Following Generation)
        目标: 将陈述性内容转化为指令和对应的完成结果。
        """
        return f"""
你的任务是将一段陈述性的维基百科知识，转化为一系列可执行的“指令”和对应的“响应”。这有助于训练AI模型理解并遵循人类的指令。

---
知识片段:
"{wiki_chunk}"
---

请基于以上知识片段，创造5个完全不同类型的指令，并为每个指令提供一个完美的响应。指令类型可以包括但不限于：
-   **提取关键信息** (例如: "提取...的关键日期和事件。")
-   **创建列表** (例如: "列出...的主要特点。")
-   **进行分类** (例如: "将...的原因分为内部和外部两类。")
-   **解释概念** (例如: "用简单的语言解释什么是‘...’。")
-   **比较异同** (例如: "比较 A 和 B 的主要区别。")

请以 "指令: ..." 和 "响应: ..." 的格式清晰地展示每一对。
"""

    @staticmethod
    def chain_of_thought_reasoning(wiki_chunk: str) -> str:
        """
        模板5: 生成思维链 (Chain-of-Thought, CoT)
        目标: 针对一个问题，生成详细的推理过程和答案。
        """
        return f"""
你是一个严谨的逻辑思考者。你的任务是基于提供的背景知识，解决一个问题，并展示你的完整思考过程（Chain of Thought）。

---
背景知识:
"{wiki_chunk}"
---

现在，请根据以上背景知识，回答以下问题，并遵循“思维过程”和“最终答案”的格式：

**问题**: [请在这里插入一个基于背景知识的、需要多步推理才能解决的问题]

**你的输出格式应为**:
**思维过程**:
1.  第一步，我需要...
2.  第二步，根据...我推断出...
3.  第三步，结合...和...，我得出结论...
4.  ...

**最终答案**: [在此处给出清晰、直接的最终答案]
"""

    @staticmethod
    def counterfactual_reasoning(wiki_chunk: str) -> str:
        """
        模板6: 反事实推理 (Counterfactual Reasoning)
        目标: 提出一个与事实相反的假设，并推断可能的结果。
        """
        return f"""
你是一个富有想象力和逻辑洞察力的历史/科学分析家。你的任务是进行一次“反事实思考实验”。

---
历史/科学事实:
"{wiki_chunk}"
---

请基于以上事实，思考以下这个与事实相反的假设情景：

**假设情景**: [请在这里插入一个与事实相反的核心假设，例如："如果古埃及没有尼罗河..." 或 "如果牛顿没有发现万有引力..."]

请从多个角度（例如：社会、文化、科技、政治等）详细推演，在这个假设情景下，世界可能会如何发展，并解释你的推理依据。
"""


    @staticmethod
    def structured_data_extraction(wiki_chunk: str) -> str:
        """
        模板7: 结构化数据提取 (Structured Data Extraction)
        目标: 将非结构化的文本转换为结构化的格式，如JSON或Markdown表格。
        """
        return f"""
你是一个信息架构师，擅长从无序的文本中提取关键信息并将其结构化。

---
原始文本:
"{wiki_chunk}"
---

请仔细阅读以上文本，并完成以下任务：
1.  **识别核心实体**: 找出文本中讨论的核心主题或实体。
2.  **提取关键属性**: 提取与这些核心实体相关的关键属性、特征、日期、数据等信息。
3.  **创建Markdown表格**: 将提取出的信息整理成一个清晰的Markdown表格。表格的列应该根据文本内容合理设计。

你的目标是生成一个能够清晰展示原文核心信息、易于查阅的表格。
"""

    @staticmethod
    def causal_relationship_extraction(wiki_chunk: str) -> str:
        """
        模板8: 因果关系挖掘 (Causal Relationship Extraction)
        目标: 从文本中识别和提取因果链条。
        """
        return f"""
你是一名逻辑分析师，专注于识别事件和概念之间的因果联系。

---
背景资料:
"{wiki_chunk}"
---

请深入分析以上资料，找出其中隐含或明确阐述的因果关系。请至少找出3组因果关系，并按照以下格式清晰地列出：

-   **原因 (Cause) 1**: [描述导致结果的原因]
    **结果 (Effect) 1**: [描述由该原因导致的结果]
    **分析 (Analysis)**: [简要解释文本是如何支持这个因果关系的]

-   **原因 (Cause) 2**: [描述原因]
    **结果 (Effect) 2**: [描述结果]
    **分析 (Analysis)**: [解释依据]

...
"""

    @staticmethod
    def perspective_analysis(wiki_chunk: str) -> str:
        """
        模板9: 多角度观点分析 (Multi-Perspective Analysis)
        目标: 识别和分析文本中可能涉及的不同立场、观点或利益相关者。
        """
        return f"""
你是一位专业的评论员和批判性思想家。你的任务是分析给定文本中潜在的不同视角和偏见。

---
文本材料:
"{wiki_chunk}"
---

请基于以上材料，进行深入的观点分析：
1.  **识别主要观点**: 文本主要支持或阐述了哪种观点？
2.  **识别潜在的其他观点**: 文中是否提及、暗示或忽略了其他可能的观点或对立立场？如果一个事件被描述，有哪些不同的利益相关者（stakeholders），他们各自的立场可能是什么？
3.  **语言和语调分析**: 作者的用词是完全中立的，还是带有某种情感、褒贬或倾向性？请举例说明。

请将你的分析整理成一份简洁的报告。
"""

    @staticmethod
    def concept_analogy_generation(wiki_chunk: str) -> str:
        """
        模板10: 概念类比生成 (Concept Analogy Generation)
        目标: 为文本中的核心概念创建一个易于理解的类比，锻炼模型的抽象和创新能力。
        """
        return f"""
你是一位顶级的教育家和科普作家，精通使用类比来解释复杂的概念。

---
知识片段:
"{wiki_chunk}"
---

请完成以下教学设计任务：
1.  **确定核心概念**: 从上述文本中找出一个最核心或最难理解的概念。
2.  **创建创新类比**: 为这个核心概念设计一个生动、贴切且易于理解的类比。这个类比应该来自日常生活、自然界或其他更为人熟知的领域。
3.  **解释类比**: 详细解释这个类比如何帮助理解原始概念，点出二者之间的相似之处。

**输出格式**:
-   **核心概念**: [你选择的概念]
-   **创新类比**: [你创建的类比]
-   **类比解释**: [详细解释]
"""

    @staticmethod
    def extractive_question_answering(wiki_chunk: str) -> str:
        """
        模板11: 抽取式问答生成 (Extractive Question Answering)
        目标: 训练模型识别文本中的关键信息，并为其生成精确的问题。
        """
        return f"""
你正在为一套阅读理解测试系统生成素材。你的任务是，将下面提供的维基百科段落视为一系列“答案”，然后为这些答案精准地创造出对应的问题。

---
作为答案的原文:
"{wiki_chunk}"
---

请基于以上原文，完成以下任务：
1.  通读全文，识别出其中包含明确事实、定义、数据或关键声明的句子。
2.  为至少5个这样的句子或信息点，分别生成一个能够被该句内容直接回答的、具体的问题。
3.  确保答案就是原文中的片段，无需重新组织语言。

请严格按照“问题”和“答案”的格式输出，其中“答案”必须是原文的直接引用。

**示例格式**:
问题: [根据原文某句话生成的问题]
答案: "[原文中对应的句子或短语]"
"""

    @staticmethod
    def knowledge_association(wiki_chunk: str) -> str:
        """
        模板12: 知识联想与扩展 (Knowledge Association and Expansion)
        目标: 训练模型连接上下文信息与其内部知识库，进行发散性思考。
        """
        return f"""
你是一个知识渊博的学者，擅长在不同概念之间建立联系。你的任务是基于给定的维基百科片段，进行知识联想和扩展。

---
核心知识片段:
"{wiki_chunk}"
---

请利用你庞大的知识库，围绕以上核心知识片段进行联想，但**不要**重复原文已有的信息。请从以下至少三个角度进行扩展，并简要说明联想的理由：

-   **相关概念/技术**: 有哪些相关的理论、技术或概念？
-   **关键人物/组织**: 有哪些与之相关的重要人物、公司或组织？
-   **历史/未来事件**: 有哪些相关的历史背景、里程碑事件或未来可能的发展方向？
-   **跨领域应用**: 这个知识点在其他领域有什么应用或影响？

请以清晰的列表形式展示你的联想结果。

**示例格式**:
-   **联想类别**: [例如：关键人物]
    -   **联想内容**: [例如：阿尔伯特·爱因斯坦]
    -   **联想理由**: [解释为什么会从原文内容联想到他]
"""

    @staticmethod
    def creative_format_transformation(wiki_chunk: str) -> str:
        """
        模板13: 创意格式改写 (Creative Format Transformation)
        目标: 训练模型根据不同场景和格式要求，灵活地重塑内容。
        """
        return f"""
你是一位多才多艺的内容创作者，能够将同一份核心信息改编成适用于不同媒介和受众的多种形式。

---
原始信息:
"{wiki_chunk}"
---

现在，请将以上原始信息，分别改编成以下三种全新的、风格迥异的格式：

1.  **一条社交媒体帖子**: 为微博或Twitter创作一条吸引眼球的帖子，可以使用表情符号(emoji)和话题标签(hashtag)。
2.  **一段教学视频的开场白**: 为一个科普视频撰写一段引人入胜的开场白，能够迅速抓住观众的注意力并介绍本期主题。
3.  **一封简短的邮件摘要**: 假设你需要将这个信息通过邮件汇报给你的上级，请撰写一封要点突出、语言专业的邮件摘要。

请清晰地标示出每一种改写后的结果。
"""

    @staticmethod
    def hypothesis_and_prediction(wiki_chunk: str) -> str:
        """
        模板14: 假设与预测生成 (Hypothesis and Prediction Generation)
        目标: 训练模型基于现有信息进行前瞻性思考、逻辑推断和提出开放性问题。
        """
        return f"""
你是一位具有前瞻性的领域分析师和研究员。你的工作是基于已知的事实，提出有待验证的假设和对未来趋势的预测。

---
背景事实:
"{wiki_chunk}"
---

请基于以上背景事实，进行深入的思考，并完成以下两项任务：

1.  **提出研究性问题**: 根据文中的信息，有哪些问题是目前尚未解决的，或者值得进一步深入研究的？请提出至少2个有价值的研究问题。
2.  **生成未来趋势假设**: 结合文中的事实和你自己的知识，对该领域未来的发展趋势提出2-3个合理的假设或预测，并简要说明你的判断依据。

你的回答应该展现出深刻的洞察力和逻辑性。
"""